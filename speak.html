<!DOCTYPE html>
<html >
  <head>
    <meta charset="UTF-8">
    <title>Calm breeze login screen</title>
        <link rel="stylesheet" href="css/style.css">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
  </head>

  <body ng-app = "myApp">
  	<div class = "top-bar">
  		<div id="nav">
  			<div class = "left">
  				<li><a href="#">Home</a></li>
			</div>

			<div class = "right">
				<li><a href="#">Signup</a></li>
				<li><a href="index.html">Login</a></li>
			</div>	
		</div>
  	</div>


    <div class="wrapper" ng-controller="MainController">
	<div class="container">
		<div class= "sidebar">
			<ul>
				<li>Tool Menu</li>
				<li>Word Of The Day</li>
				<li>Queston Of The Day</li>
				<li>Animal Of The Day</li>
				<li>Vocal Lesson</li>
				<li>Character Lesson</li>
				<li>Contact</li>
			</ul>
		</div>
		<div class="main">
		<h1>Lessoning to speak chinese 101 </h1>
		<form class="form">
			<input type="text" placeholder="Please enter the Chinese Word" name ="text">

			<a href="#" class="say"> Speak </a>
			<audio src="" class = "speech" hidden></audio>

			<input type="button" ng-keydown="key($event)" value={{show}} id="voicebox" >
			<input type="button" value = "speak" onclick="myFunction()" onerror=" speak()">
			<input type="text" id ="get" hidden value={{sound}} >
			<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

			<script>
			// 404 error checker
				function myFunction(){
					var audio = new Audio();
					var test = document.getElementById("get").value;
					speak(test);
					var url = 'http://translate.google.com/translate_tts?tl=zh-CN&q='+test;
					audio.src = url;
					audio.play();

				};
				function speak(){
					var msg = new SpeechSynthesisUtterance();
					var voices = window.speechSynthesis.getVoices();
					var test = document.getElementById("get").value;
					msg.voice = voices[10]; // Note: some voices don't support altering params
					msg.voiceURI = 'native';
					msg.volume = 1; // 0 to 1
					msg.rate = 1; // 0.1 to 10
					msg.pitch = 1; 
					msg.text = test;
					msg.lang = 'zh-CN';
					msg.onend = function(e) {
				    console.log('Finished in ' + event.elapsedTime + ' seconds.');
					};
					speechSynthesis.speak(msg);
				};

			</script>

		</form>
		
	</div>

	</div>
	
	<ul class="bg-bubbles">
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
		<li></li>
	</ul>
</div>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
		<script src="js/app.js"></script>
        <script src="js/index.js"></script>
		<!-- Controllers -->
		<script src="js/controller/MainController.js"></script>        
        
    
  </body>
</html>
